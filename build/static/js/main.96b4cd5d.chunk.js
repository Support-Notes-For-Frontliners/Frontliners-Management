(this["webpackJsonpfrontliners-management"]=this["webpackJsonpfrontliners-management"]||[]).push([[0],{426:function(e,a,t){e.exports=t.p+"static/media/BadScript-Regular.7ed4b6a5.ttf"},488:function(e,a,t){e.exports=t(856)},493:function(e,a,t){},501:function(e,a){},503:function(e,a){},545:function(e,a){},546:function(e,a){},856:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(30),o=t.n(l),c=t(24),i=(t(493),t(910)),s=t(911),m=t(145),u=t(908),d=(t(906),t(907),t(859)),p=t(912),E=t(59),f=t(904);Object(f.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,color:"white"},links:{marginLeft:"25px"}}}));var g=t(41),h=t(858),v=t(913),b=t(914),y=t(933),O=t(916),S=t(413),w=t.n(S),j=r.a.createContext(null),C=Object(f.a)((function(e){return{root:{flexGrow:1,height:"100%",width:"100%",background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",backgroundSize:"cover",backgroundPosition:"center",margin:0},paper:{display:"flex",justifyContent:"center",width:300,padding:20,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderRadius:20,background:"linear-gradient(135deg, #FE6B8B 40%, #FF8E53 90%)"},item:{display:"flex",justifyContent:"center",textAlign:"center"}}}));function x(e){var a=C();return r.a.createElement("div",{className:a.root},r.a.createElement(j.Consumer,null,(function(e){return r.a.createElement(w.a,null,e.auth.currentUser?r.a.createElement(g.a,{push:!0,to:"/dashboard"}):r.a.createElement(h.a,{elevation:10,className:a.paper},r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(a){a.preventDefault(),function(e,a){console.log(e.email.value,e.password.value),console.log(a),a.auth.signInWithEmailAndPassword(e.email.value,e.password.value).catch((function(e){console.log(e),alert("Error with signin, incorrect username/password or acct does not exist")}))}(a.target,e)}},r.a.createElement(v.a,{container:!0,direction:"column",className:a.grid,spacing:3},r.a.createElement(v.a,{item:!0,className:a.item,direction:"column"},r.a.createElement(m.a,{variant:"h4"},"Management Portal"),r.a.createElement(m.a,null,"Notes for Frontliners")),r.a.createElement(v.a,{item:!0,className:a.item,style:{width:"90%",alignItems:"center"}},r.a.createElement(b.a,null,r.a.createElement(y.a,{id:"email",type:"email",label:"Email",required:!0}))),r.a.createElement(v.a,{item:!0,className:a.item,style:{width:"90%",alignItems:"center"}},r.a.createElement(b.a,null,r.a.createElement(y.a,{id:"password",type:"password",label:"Password",required:!0}))),r.a.createElement(v.a,{item:!0,className:a.item},r.a.createElement(O.a,{type:"submit",style:{fontSize:20}},"Login"))))))})))}var k=t(34),N=t(76),F=t(6),B=t(937),A=t(934),D=t(915),I=t(931),T=t(930),H=t(932),L=t(441),P=t.n(L),W=t(443),M=t.n(W),R=t(442),U=t.n(R),G=t(920),z=t(921),_=t(922),q=t(923),K=t(427),J=t.n(K),X=t(428),Y=t.n(X),V=t(429),$=t.n(V),Q=t(430),Z=t.n(Q),ee=t(431),ae=t.n(ee),te=t(221),ne=t.n(te),re=t(55),le=(t(360),t(255),t(100)),oe=t.n(le),ce=t(426),ie=t.n(ce),se=t(936),me=t(917),ue=t(919),de=t(918);function pe(e){var a=r.a.useState({"Seattle Children's Hospital":!1,"Overlake Medical Center & Clinics":!1,"Sunrise Senior Living: Bellevue":!1,"Sunrise Senior Living: Mercer Island":!1,"Harborview Medical Center":!1,"Island House Assisted Living":!1,"Virginia Mason Hospital and Seattle Medical Center":!1,"EvergreenHealth Medical Center":!1,"Mary's Place Seattle":!1,"Noel Women's House":!1,"Aloha Inn":!1,"Sacred Heart":!1,"Swedish First Hill":!1,"UW Medical Center: Montlake":!1,"Swedish First HIll":!1}),t=Object(c.a)(a,2),n=t[0],l=t[1],o=r.a.useState({approvalOnly:!1,unsentOnly:!1}),i=Object(c.a)(o,2),s=i[0],m=i[1],u=function(e){m(Object(N.a)(Object(N.a)({},s),{},Object(k.a)({},e.target.name,e.target.checked)))},d=function(e){l(Object(N.a)(Object(N.a)({},n),{},Object(k.a)({},e.target.name,e.target.checked)))};return r.a.createElement("div",{style:{width:"50%",padding:10}},r.a.createElement("h1",null,"Support Notes For Frontliners PDF Automation"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",null,"Select the Facility"),Object.keys(n).map((function(e){return r.a.createElement(me.a,{key:e,label:e,control:r.a.createElement(se.a,{onChange:d,name:e})})})),r.a.createElement("h3",null,"Filters"),r.a.createElement(de.a,{row:!0},r.a.createElement(me.a,{control:r.a.createElement(ue.a,{checked:s.approvalOnly,onChange:u,name:"approvalOnly"}),label:"Approved Only"}),r.a.createElement(me.a,{control:r.a.createElement(ue.a,{checked:s.unsentOnly,onChange:u,name:"unsentOnly"}),label:"Unsent Only"})),r.a.createElement(O.a,{onClick:function(a){e.callBack(n,s),console.log(n)}},"Search"))}t(363).config(),re.b.register({family:"Bad Script",format:"truetype",src:ie.a}),re.b.registerEmojiSource({format:"png",url:"https://twemoji.maxcdn.com/2/72x72//"});var Ee=re.e.create({page:{flexDirection:"column",backgroundColor:"#FFFFFF",fontFamily:["Bad Script"].join(",")},section:{margin:10,padding:10,height:"5.5in"}});function fe(e){var a;return e<300&&(a="22"),e>600&&e<900&&(a="15"),e>900&&(a="13"),e>1200&&(a="12"),{margin:12,padding:12,height:"5.5in",fontSize:a}}var ge=function(){var e=oe.a.database().ref("formData"),a=r.a.useState(null),t=Object(c.a)(a,2),n=t[0],l=t[1],o=r.a.useState(!1),i=Object(c.a)(o,2),s=i[0],m=i[1],u=r.a.useState(null),d=Object(c.a)(u,2),p=d[0],E=d[1],f=r.a.useState(null),g=Object(c.a)(f,2),h=g[0],v=g[1];function b(e){l(e.val())}function y(e){console.log("Error!"),console.log(e)}return r.a.useEffect((function(){e.on("value",b,y)}),[]),r.a.useEffect((function(){console.log(null===n)})),s?null===n?r.a.createElement("div",null,r.a.createElement("h1",null,"Loading...")):r.a.createElement(re.c,{style:{width:"100vw",height:"100vw"}},r.a.createElement(re.a,null,r.a.createElement(re.d,{size:"A4",style:Ee.page},Object.entries(n).map((function(e){return function(e){var a,t=Object.keys(p);for(a=0;a<t.length;a++){var n=t[a],r=p[n],l=e[1].facility;if(!1===r&&l===n)return!1}return(!h.approvalOnly||!1!==e[1].approved)&&(!h.unsentOnly||!0!==e[1].sent)}(e)?r.a.createElement(re.g,{style:fe(e[1].note.length),wrap:!1,key:e[0]},r.a.createElement(re.f,null,"Dear ",e[1].frontliner.substring(0,e[1].frontliner.length-1),", "),r.a.createElement(re.f,null," "),r.a.createElement(re.f,null,e[1].note.replace(/(\r\n|\n|\r)/gm,"")),r.a.createElement(re.f,{style:{textAlign:"right"}},"-From ",e[1].sender.replace("From ",""))):null}))))):r.a.createElement(pe,{callBack:function(e,a){v(a),E(e),m(!0)}})};function he(e){var a=e.icon,t=e.primary,n=e.to;return r.a.createElement("li",null,r.a.createElement(G.a,{button:!0,component:function(e){return r.a.createElement(E.b,Object.assign({to:n},e))}},r.a.createElement(z.a,null,a),r.a.createElement(_.a,{primary:t})))}var ve=r.a.createElement("div",null,r.a.createElement(G.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(J.a,null)),r.a.createElement(_.a,{primary:"Dashboard"})),r.a.createElement(G.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(Y.a,null)),r.a.createElement(_.a,{primary:"Orders"})),r.a.createElement(G.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement($.a,null)),r.a.createElement(_.a,{primary:"Customers"})),r.a.createElement(G.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(Z.a,null)),r.a.createElement(_.a,{primary:"Reports"})),r.a.createElement(G.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(ae.a,null)),r.a.createElement(_.a,{primary:"PDF Generator"}))),be=r.a.createElement("div",null,r.a.createElement(q.a,{inset:!0},"Saved reports"),r.a.createElement(G.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(ne.a,null)),r.a.createElement(_.a,{primary:"Current month"})),r.a.createElement(G.a,{button:!0},r.a.createElement(z.a,null,r.a.createElement(ne.a,null)),r.a.createElement(_.a,{primary:"Last quarter"})),r.a.createElement("a",{href:"/pdf_generator"},r.a.createElement(he,{button:!0},r.a.createElement(z.a,null,r.a.createElement(ne.a,null)),r.a.createElement(_.a,{primary:"Year-end sale"}))));t(58),t(115);function ye(e){return r.a.createElement(m.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function Oe(e,a){return{time:e,amount:a}}Oe("00:00",0),Oe("03:00",300),Oe("06:00",600),Oe("09:00",800),Oe("12:00",1500),Oe("15:00",2e3),Oe("18:00",2400),Oe("21:00",2400),Oe("24:00",void 0);var Se=Object(f.a)({depositContext:{flex:1}});function we(e){var a=Se(),t=r.a.useState(null),n=Object(c.a)(t,2),l=n[0],o=n[1],i=e.firebase.db.ref("stats");function s(e){o(e.val())}function u(e){console.log("Error!"),console.log(e)}function d(){return null===l?{opacity:"0"}:{opacity:"1",transition:"all 1s ease"}}return r.a.useEffect((function(){i.on("value",s,u)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null,"Key Stats"),r.a.createElement(m.a,{component:"p",variant:"h4",style:d()},null==l?"":l.notes_count," Written"),r.a.createElement(m.a,{color:"textSecondary",component:"p",variant:"h4",style:d()},null==l?"":l.sent_count," Sent"),r.a.createElement(m.a,{color:"textSecondary",className:a.depositContext,style:d()},null==l?"":l.facility_count," Facilities"))}var je=t(440),Ce=(t(60),t(444)),xe=t(924),ke=t(925),Ne=t(929),Fe=t(928),Be=t(926),Ae=t(927),De=t(939),Ie=t(218),Te=t(217);function He(e){e.preventDefault()}Object.filter=function(e,a){return Object.keys(e).filter((function(t){return a(e[t])})).reduce((function(a,t){return a[t]=e[t],a}),{})};var Le=Object(f.a)((function(e){return{seeMore:{marginTop:e.spacing(3)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},buttonContainer:{flexGrow:1}}})),Pe=Object(Ce.a)({palette:{primary:{main:Ie.a[200]},secondary:{main:Te.a[200]}}});function We(e){var a=r.a.useState({}),t=Object(c.a)(a,2),n=t[0],l=t[1],o=r.a.useState([]),i=Object(c.a)(o,2),s=i[0],u=i[1],d=r.a.useState("approved"),E=Object(c.a)(d,2),f=E[0],g=E[1],h=r.a.useState(!1),b=Object(c.a)(h,2),y=b[0],S=b[1],w=r.a.useState(!0),j=Object(c.a)(w,2),C=j[0],x=j[1],F=r.a.useState([]),B=Object(c.a)(F,2),A=B[0],D=B[1],I=r.a.useState(0),T=Object(c.a)(I,2),H=T[0],L=T[1],P=Le();function W(e){e=e.val(),l(e),z(e)}function M(e){console.log("Error!"),console.log(e)}function R(e,a,t){var n=A.indexOf(a);t?-1==n&&A.push(a):n>-1&&A.splice(n,1),D(A),L(A.length),console.log("ONSELECTED:",A)}function U(e,a){var t,r={},l=Object(je.a)(A);try{for(l.s();!(t=l.n()).done;){var o=t.value;r[o]=Object(N.a)(Object(N.a)({},n[o]),{},Object(k.a)({},e,a))}}catch(c){l.e(c)}finally{l.f()}console.log(r)}r.a.useEffect((function(){e.firebase.db.ref("formData").limitToLast(40).on("value",W,M)}),[]);var G=function(e,a,t,n,r){return n?r[e][t]>r[a][t]?-1:1:r[e][t]>r[a][t]?1:-1};function z(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A;console.log("setNotesTableWrapper ORDER:",y,"CATEGORY:",f),console.log("setNoteTableWrapper DATA:",e),u(Object.keys(e).sort((function(n,r){return G(n,r,a,t,e)})).map((function(a){return r.a.createElement(Me,{noteData:e[a],id:a,onChange:R,key:a,isChecked:n,update:C})}))),x(!1)}return console.log("main method NOTEDATA:",n),console.log("main method NOTETABLE:",s),console.log("main method SELECTEDNOTES",A),r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null,"Recent Notes"),r.a.createElement(xe.a,{theme:Pe},r.a.createElement(v.a,{container:!0,spacing:2},r.a.createElement(v.a,{item:!0},r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){return U("approved",!0)}},"Approve")),r.a.createElement(v.a,{item:!0},r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:function(){return U("approved",!1)}},"Unapprove")),r.a.createElement(v.a,{item:!0},r.a.createElement("div",null)),r.a.createElement(v.a,{item:!0},r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){return U("sent",!0)}},"Send")),r.a.createElement(v.a,{item:!0},r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:function(){return U("sent",!1)}},"Unsend")),r.a.createElement(v.a,{item:!0},r.a.createElement("div",null)),r.a.createElement(v.a,{item:!0},r.a.createElement(O.a,{variant:"contained",color:"grey",onClick:function(){return z(n,void 0,void 0,[]),D([]),void L(0)}},"Unselect All")),r.a.createElement(v.a,{item:!0},r.a.createElement(m.a,{variant:"subtitle1",style:{color:"#555"}},H>0?H+" Notes Selected":"")))),r.a.createElement(ke.a,{size:"small"},r.a.createElement(Be.a,null,r.a.createElement(Ae.a,null,r.a.createElement(Fe.a,null,"Select"),r.a.createElement(Fe.a,null,"Where To"),r.a.createElement(Fe.a,null,r.a.createElement(De.a,{active:"approved"===f,direction:y?"asc":"desc",onClick:function(){console.log("approved order: "+!y),S(!y),g("approved"),z(n,"approved",!y)}},"Approved",r.a.createElement("span",{className:P.visuallyHidden},"desc"===y?"sorted descending":"sorted ascending"))),r.a.createElement(Fe.a,null,r.a.createElement(De.a,{active:"sent"===f,direction:y?"asc":"desc",onClick:function(){console.log("sent order: "+!y),S(!y),g("sent"),z(n,"sent",!y)}},"Sent",r.a.createElement("span",{className:P.visuallyHidden},"desc"===y?"sorted descending":"sorted ascending"))),r.a.createElement(Fe.a,null,"Sender"),r.a.createElement(Fe.a,{align:"right"},"Note"))),r.a.createElement(Ne.a,{style:0===Object.keys(n).length?{opacity:"0"}:{opacity:"1",transition:"all 1s ease"}},s)),r.a.createElement("div",{className:P.seeMore},r.a.createElement(p.a,{color:"primary",href:"#",onClick:He},"See more orders")))}function Me(e){var a=e.noteData,t=e.id,n=e.isChecked,l=r.a.useState(!0),o=Object(c.a)(l,2),i=o[0],s=o[1];return console.log("NOTE UPDATING:",n),r.a.createElement(Ae.a,null,r.a.createElement(Fe.a,null,r.a.createElement(se.a,{onChange:function(a){e.onChange(a,t,!n.includes(t)),s(!i)},checked:n.includes(t)})),r.a.createElement(Fe.a,null,a.facility),r.a.createElement(Fe.a,null,a.approved?"\u2714\ufe0f":"\u274c"),r.a.createElement(Fe.a,null,a.sent?"\u2714\ufe0f":"\u274c"),r.a.createElement(Fe.a,null,a.sender),r.a.createElement(Fe.a,{align:"right"},a.note))}function Re(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(p.a,{color:"inherit",href:"https://notesforfrontliners.org"},"Notes For Frontliners")," ",(new Date).getFullYear(),".")}var Ue=Object(f.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(N.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(k.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200}}}));function Ge(e){var a=Ue(),t=r.a.useState(!0),n=Object(c.a)(t,2),l=n[0],o=n[1],p=function(){o(!0)},E=function(){o(!1)},f=Object(F.a)(a.paper,a.fixedHeight);return r.a.createElement("div",{className:a.root},r.a.createElement(j.Consumer,null,(function(e){return r.a.createElement(r.a.Fragment,null,null==e.auth.currentUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{to:"/login"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(i.a,{position:"absolute",className:Object(F.a)(a.appBar,l&&a.appBarShift)},r.a.createElement(s.a,{className:a.toolbar},r.a.createElement(d.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:p,className:Object(F.a)(a.menuButton,l&&a.menuButtonHidden)},r.a.createElement(P.a,null)),r.a.createElement(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},"Dashboard"),r.a.createElement(d.a,{color:"inherit",onClick:function(){e.auth.signOut()}},r.a.createElement(T.a,{badgeContent:4,color:"secondary"},r.a.createElement(U.a,null))))),r.a.createElement(B.a,{variant:"permanent",classes:{paper:Object(F.a)(a.drawerPaper,!l&&a.drawerPaperClose)},open:l},r.a.createElement("div",{className:a.toolbarIcon},r.a.createElement(d.a,{onClick:E},r.a.createElement(M.a,null))),r.a.createElement(I.a,null),r.a.createElement(D.a,null,ve),r.a.createElement(I.a,null),r.a.createElement(D.a,null,be)),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(H.a,{maxWidth:"lg",className:a.container},r.a.createElement(v.a,{container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(h.a,{className:f})),r.a.createElement(v.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(h.a,{className:f},r.a.createElement(we,{firebase:e}))),r.a.createElement(v.a,{item:!0,xs:12},r.a.createElement(h.a,{className:a.paper},r.a.createElement(We,{firebase:e})))),r.a.createElement(A.a,{pt:4},r.a.createElement(Re,null))))))})))}var ze=function(){var e=r.a.useState(null),a=Object(c.a)(e,2),t=a[0],n=a[1],l=r.a.useState(null),o=Object(c.a)(l,2),i=o[0],s=o[1];return r.a.useEffect((function(){setTimeout((function(){s(r.a.createElement(g.a,{to:"/login"}))}),1e3)}),[]),oe.a.auth().onAuthStateChanged((function(e){n(e)})),r.a.createElement(g.d,null,r.a.createElement(g.b,{component:x,path:"/login",exact:!0}),null==t?r.a.createElement("div",null,i):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{component:ge,path:"/pdf_generator",exact:!0}),r.a.createElement(g.b,{component:Ge,path:"/dashboard",exact:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=Object(Ce.a)({palette:{primary:{main:"#7AC9D0"},secondary:{main:"#FE9A84"}}}),qe=t(209);t(363).config();var Ke={apiKey:"AIzaSyAHrXN2W5qjFKCSqlrKx3vlJa4U__dUIXk",authDomain:"support-notes-for-frontliners.firebaseapp.com",databaseURL:"https://support-notes-for-frontliners.firebaseio.com",projectId:"support-notes-for-frontliners",storageBucket:"support-notes-for-frontliners.appspot.com",messagingSenderId:"235587119548",appId:"1:235587119548:web:97e6c2150cbd29c3c363b9",measurementId:"G-ERT8H29NWR"},Je=function e(){Object(qe.a)(this,e),oe.a.initializeApp(Ke),this.db=oe.a.database(),this.auth=oe.a.auth()};o.a.render(r.a.createElement(E.a,null,r.a.createElement(j.Provider,{value:new Je},r.a.createElement(xe.a,{theme:_e},r.a.createElement(ze,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[488,1,2]]]);
//# sourceMappingURL=main.96b4cd5d.chunk.js.map